# 统计文件中的重复行并按照出现次数排序

sort data | uniq -c | sort -r

# 查找文件关键字并统计
egrep -c "Keyword_or_regPattern" file.log

# 查找内存使用最大的进程
# 按照第四列（内存列降序排序）

ps aux | sort -rk4 | more

# 查找文件中的IP地址并去重
# 其中sort -g 表示按照数值排序，默认为按照ascii码
egrep -o "([0-9]{1,3}[\.]){3}[0-9]{1,3}" pg-01-30.csv | uniq -c | sort -rgk1

# 查找文件
查找一天内、一天前修改|创建的文件
find ./ -mtime -1
find ./ -mtime +1
find ./ -name xxx 查找文件名包含xxx的文件
find ./ -mtime -1 -exec cp -rpf {} ./newf/ \; 查找文件并复制到newf目录下
watch -n3 "find ./ -mtime -1 | wc" 每三秒种执行一次find命令，并统计文件数目

# CentOS,YUM管理系统
## 查找释放特定文件的包:
yum provides "*/filename"
## 查找特定软件包释放的文件
rpm -ql pkg_name
## 查找软件包
yum search pkg_name
## 查看是否安装软件包
rpm -qa | grep pkg_name

# awk
awk 'BEGIN{} {statement;statement;statement;} END{}' filename
BEGIN区域可以设定初始化参数，比如分割符，常见初始变量为: FS=列分隔符，NR=行（记录分隔符）
多个分隔符用[]包括起来，如FS="[=;]"表示"="和";"都作为列分隔符

# SSH 清除指定主机SSH公钥凭据
ssh-keygen -R 1.1.6.3

## 使用配置文件登录SSH
echo StrictHostKeyChecking no > ssh.conf #自动保存公钥到 KnownHosts
ssh -F ssh.conf root@a.b.c.d

## 清除Key文件密码
ssh-keygen -p 并输入旧密码，新密码留空

# Socat - Socket CAT, Socket双向数据连接
基础用法: socat [opt] <addr> <addr> # 在指定的两个数据通道上建立连接
基础原理为：
a) 先启动第一个连接，成功后再启动第二个连接。 
b) 两个连接均启动成功后，如果有数据则进行双向交换

## 端口转发: 监听LocalAddr:12345端口，并将请求转发到1.1.1.1:12345上
## $ socat tcp4-listen:12345,bind=LocalAddr,reuseaddr,fork tcp:1.1.1.1:12345
选项：
bind=LocalAddr, 指定绑定的本地地址
reuseaddr, 指定地址重用（必须明确指定IP地址，才可以使用reuseaddr，主要避免端口未完全关闭导致的监听失败）
fork, 建立子程序处理链入请求，不然处理一个请求后程序就退出去了。

## $socat tcp4-listen:12345 tcp-listen:23456
先监听端口12345，如果有传入连接，再启动监听23456。

